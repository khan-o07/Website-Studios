# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#      ğŸŒ WEBSITE STUDIOS â€” Production Configuration
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

spring:
  # â”€â”€â”€ PostgreSQL (Prod - SSL Enforced) â”€â”€â”€
  datasource:
    url: jdbc:postgresql://${WS_DB_HOST}:${WS_DB_PORT}/${WS_DB_NAME}?sslmode=require
    username: ${WS_DB_USERNAME}
    password: ${WS_DB_PASSWORD}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 20
      minimum-idle: 5
      pool-name: WS-Prod-HikariPool
      max-lifetime: 1800000
      connection-timeout: 30000

  # â”€â”€â”€ JPA (Prod) â”€â”€â”€
  jpa:
    hibernate:
      ddl-auto: none
    show-sql: false

  # â”€â”€â”€ Redis (Prod) â”€â”€â”€
  data:
    redis:
      host: ${WS_REDIS_HOST}
      port: ${WS_REDIS_PORT:6379}
      password: ${WS_REDIS_PASSWORD}
      ssl:
        enabled: true

  # â”€â”€â”€ DevTools Disabled â”€â”€â”€
  devtools:
    restart:
      enabled: false

# â”€â”€â”€ HTTPS Enforcement â”€â”€â”€
server:
  ssl:
    enabled: true
  forward-headers-strategy: native

# â”€â”€â”€ Swagger (DISABLED in Production) â”€â”€â”€
springdoc:
  api-docs:
    enabled: false
  swagger-ui:
    enabled: false

# â”€â”€â”€ Logging (Minimal in Prod) â”€â”€â”€
logging:
  level:
    root: WARN
    com.websitestudios: INFO
    org.hibernate.SQL: WARN
    org.springframework.security: WARN
  pattern:
    console: '{"timestamp":"%d","level":"%p","logger":"%c","message":"%m"}%n'

# â”€â”€â”€ Website Studios Security Config (Prod) â”€â”€â”€
ws:
  security:
    jwt:
      secret: ${WS_JWT_SECRET}
      access-token-expiry: 900000
      refresh-token-expiry: 43200000
    recaptcha:
      secret-key: ${WS_RECAPTCHA_SECRET}
      site-key: ${WS_RECAPTCHA_SITE_KEY}
      threshold: 0.7
    encryption:
      aes-secret-key: ${WS_AES_SECRET}
    rate-limit:
      public-requests-per-minute: 5
      auth-requests-per-minute: 20
      login-attempts-per-minute: 3
    lockout:
      max-failed-attempts: 5
      lock-duration-minutes: 60

# â”€â”€â”€ Actuator (Minimal in Prod) â”€â”€â”€
management:
  endpoints:
    web:
      exposure:
        include: health,prometheus
  endpoint:
    health:
      show-details: never