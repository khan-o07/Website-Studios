# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#        ğŸŒ WEBSITE STUDIOS â€” Base Configuration
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
spring:
  application:
    name: website-studios-api
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

  datasource:
    # use MySQL compatibility so AUTO_INCREMENT and other MySQL syntax work during tests
    url: jdbc:h2:mem:testdb;MODE=MYSQL;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH
    driver-class-name: org.h2.Driver

  # â”€â”€â”€ JPA Configuration â”€â”€â”€
  jpa:
    open-in-view: false
    database-platform: org.hibernate.dialect.H2Dialect
    properties:
      hibernate:
        format_sql: true
        jdbc:
          time_zone: UTC

  # â”€â”€â”€ Request Size Limit â”€â”€â”€
  servlet:
    multipart:
      max-file-size: 1MB
      max-request-size: 1MB

  # â”€â”€â”€ Flyway Migration â”€â”€â”€
  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration

# â”€â”€â”€ Server Configuration â”€â”€â”€
server:
  port: 8080
  servlet:
    context-path: /
  error:
    include-message: never
    include-binding-errors: never
    include-stacktrace: never
    include-exception: false

# â”€â”€â”€ API Versioning â”€â”€â”€
api:
  version: v1
  base-path: /api/v1

# â”€â”€â”€ Actuator (Restricted) â”€â”€â”€
management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus
      base-path: /actuator
  endpoint:
    health:
      show-details: never
  info:
    env:
      enabled: false

# src/main/resources/application.yml

ws:
  security:
    encryption:
      aes-secret-key: ${AES_SECRET_KEY:myDefaultDevKeyThatIs32BytesLong!}